<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vision Engineer - Case Detail</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <div id="navbar-placeholder"></div>

  <header class="page-header">
    <div class="container">
      <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
        <div>
          <h1 class="h2 mb-1"><i class="fa-solid fa-file-lines text-primary"></i> <span id="case-title">Case Detail</span></h1>
          <p class="text-muted mb-0" id="case-subtitle">—</p>
        </div>
        <a class="btn btn-outline-secondary" href="solutions.html"><i class="fa-solid fa-arrow-left"></i> Back to Solutions</a>
      </div>
    </div>
  </header>

  <main class="container my-5">
    <div class="row g-4">
      <div class="col-lg-7">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Overview</h5>
            <p class="text-muted mb-0" id="case-overview">—</p>
          </div>
        </div>

        <div class="card mt-4">
          <div class="card-body">
            <h5 class="card-title">Challenges</h5>
            <ul class="mb-0" id="case-challenges"></ul>
          </div>
        </div>

        <div class="card mt-4">
          <div class="card-body">
            <h5 class="card-title">Approach</h5>
            <ul class="mb-0" id="case-approach"></ul>
          </div>
        </div>

        <div class="card mt-4">
          <div class="card-body">
            <h5 class="card-title">Results</h5>
            <ul class="mb-0" id="case-results"></ul>
          </div>
        </div>
      </div>

      <div class="col-lg-5">
        <div class="card shadow-sm">
          <img id="case-image" src="../assets/images/solutions/wafer.svg" class="card-img-top" alt="case" />
          <div class="card-body">
            <h5 class="card-title">Tech Keywords</h5>
            <div class="d-flex flex-wrap gap-2" id="case-tags"></div>

            <hr />

            <h6 class="text-muted">Domains</h6>
            <div class="d-flex flex-wrap gap-2" id="case-domains"></div>

            <hr />

            <div class="alert alert-light border mb-0">
              Want to apply a similar approach?
              <a href="about.html">Contact me</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <div id="footer-placeholder"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/main.js"></script>
  <script>
    (function () {
      const cases = {
        wafer: {
          title: 'Wafer defect inspection',
          subtitle: 'Reliable detection with low false positives',
          image: '../assets/images/solutions/wafer.svg',
          overview: 'Semiconductor surface inspection focused on small defects under complex textures, with deployment and maintainability in mind.',
          challenges: ['Tiny and diverse defect patterns', 'Textured/noisy backgrounds', 'High FP cost requires confidence/verification'],
          approach: ['Data loop: collect → label → validate → hard-example mining', 'Model training & deployment (YOLO/segmentation patterns)', 'Hybrid with rules: ROI constraints, geometry checks, confidence gating'],
          results: ['Stable detection on small scratches/particles', 'Reduced false positives via post-checks', 'Reusable pipeline for similar appearance inspections'],
          tags: ['YOLO', 'OpenCV', 'Deployment', 'Hard examples'],
          domains: ['Semiconductor']
        },
        threec: {
          title: '3C surface inspection',
          subtitle: 'Robust under specular reflections',
          image: '../assets/images/solutions/wafer.svg',
          overview: 'Inspection for reflective 3C parts using imaging + algorithm co-design for stability.',
          challenges: ['Reflection hotspots & shadows shift a lot', 'Process drift and variation', 'Cycle time and maintenance costs'],
          approach: ['Imaging strategy: angle/polarization/exposure', 'Hybrid rules + DL', 'Engineering: parameterization and diagnostics'],
          results: ['Stable performance under drift', 'Lower manual re-check load', 'Reusable for similar cosmetic inspection tasks'],
          tags: ['Imaging', 'Hybrid AI', 'Diagnostics'],
          domains: ['3C']
        },
        assembly: {
          title: 'Assembly positioning & metrology',
          subtitle: 'Accuracy, stability, and takt time',
          image: '../assets/images/solutions/wafer.svg',
          overview: 'Positioning and measurement for assembly stations emphasizing accuracy and traceability.',
          challenges: ['Tight tolerances and accuracy targets', 'Vibration/fixture/lighting disturbances', 'Traceable measurement chain'],
          approach: ['Halcon/OpenCV: sub-pixel localization & fitting', 'Calibration workflow for camera/lens/fixture', 'Engineering: logs, thresholds, traceability outputs'],
          results: ['Meets positioning accuracy requirements', 'Traceable measurements', 'Compatible with station takt time'],
          tags: ['Halcon', 'Sub-pixel', 'Calibration', 'Metrology'],
          domains: ['Automotive']
        },
        battery: {
          title: 'Battery/module inspection',
          subtitle: 'Appearance + dimension + marking in one flow',
          image: '../assets/images/solutions/wafer.svg',
          overview: 'Unified system for appearance checks, metrology, and marking/OCR to reduce station split and integration complexity.',
          challenges: ['Many checks and complex flows', 'Consistency across cameras & lighting', 'Integration and maintainability'],
          approach: ['Architecture: multi-camera multi-task scheduling', 'Algorithms: defects + geometry + OCR/decoding', 'Engineering: visualization and fast failure triage'],
          results: ['Higher overall efficiency with fewer splits', 'Lower maintenance cost', 'Faster root-cause localization'],
          tags: ['Multi-task', 'OCR', 'Integration'],
          domains: ['New Energy']
        }
      };

      const params = new URLSearchParams(window.location.search);
      const id = params.get('id') || 'wafer';
      const data = cases[id] || cases.wafer;

      const setText = (id, value) => {
        const el = document.getElementById(id);
        if (el) el.textContent = value;
      };

      const setList = (id, items) => {
        const el = document.getElementById(id);
        if (!el) return;
        el.innerHTML = '';
        items.forEach((t) => {
          const li = document.createElement('li');
          li.textContent = t;
          el.appendChild(li);
        });
      };

      const setBadges = (id, items, cls) => {
        const el = document.getElementById(id);
        if (!el) return;
        el.innerHTML = '';
        items.forEach((t) => {
          const span = document.createElement('span');
          span.className = cls;
          span.textContent = t;
          el.appendChild(span);
        });
      };

      setText('case-title', data.title);
      setText('case-subtitle', data.subtitle);
      setText('case-overview', data.overview);
      setList('case-challenges', data.challenges);
      setList('case-approach', data.approach);
      setList('case-results', data.results);

      const img = document.getElementById('case-image');
      if (img) img.src = data.image;

      setBadges('case-tags', data.tags, 'badge text-bg-primary');
      setBadges('case-domains', data.domains, 'badge rounded-pill text-bg-dark');

      document.title = `Vision Engineer - ${data.title}`;
    })();
  </script>
</body>
</html>
